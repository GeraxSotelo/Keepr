(function(e){function t(t){for(var s,n,c=t[0],l=t[1],o=t[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,c=1;c<a.length;c++){var l=a[c];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var p=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0a67":function(e,t,a){"use strict";var s=a("827f"),i=a.n(s);i.a},"24af":function(e,t,a){},2849:function(e,t,a){"use strict";var s=a("3d10"),i=a.n(s);i.a},3324:function(e,t,a){"use strict";var s=a("b80d"),i=a.n(s);i.a},3854:function(e,t,a){},"3d10":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark fixed-top"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[a("span",[e._v("Keepr")])]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==e.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[e._v("Home")])],1),e.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"dashboard"==e.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[e._v("My Dashboard")])],1):e._e()]),a("span",{staticClass:"navbar-text"},[e.$auth.isAuthenticated?a("button",{staticClass:"btn logout-btn",on:{click:e.logout}},[e._v("Logout")]):a("button",{staticClass:"btn login-btn",on:{click:e.login}},[e._v("Login")])])])],1)},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("bc3a"),o=a.n(l);o.a.create({baseURL:"https://localhost:5001",withCredentials:!0});var p={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),await this.$auth.getUserData(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout(),this.$store.dispatch("resetBearer"),this.$router.push({name:"home"})}}},u=p,d=(a("6231"),a("2877")),h=Object(d["a"])(u,n,c,!1,null,"726e002e",null),v=h.exports,m=a("335d"),f={name:"App",async beforeCreate(){await Object(m["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer)},components:{Navbar:v}},b=f,C=Object(d["a"])(b,i,r,!1,null,null,null),w=C.exports,g=a("8c4f"),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home container-fluid"},[e._m(0),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-12 text-center mt-3"},[a("h3",{staticClass:"pb-2 pk-title"},[e._v("PUBLIC KEEPS")]),a("SearchBox",{staticClass:"mb-5",on:{search:e.onSearchChange}}),a("hr",{staticClass:"pb-2"})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 w-100 pl-5"},[a("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"ml-5",attrs:{gutter:"15","transition-duration":"0.3s","item-selector":".item"}},e._l(e.filteredKeeps,(function(e){return a("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e.id,staticClass:"item mt-3"},[a("Keep",{attrs:{keepData:e}})],1)})),0)])])])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row home-top-bg align-items-center"},[a("div",{staticClass:"col-12 text-center"},[a("div",[a("h1",[e._v("Keepr")])])])])}],y=a("3f9b"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"keep"},[a("div",{staticClass:"card"},[e.keepData.isPrivate?a("div",{staticClass:"delete-keep text-right w-100"},[a("i",{staticClass:"far fa-times-circle",on:{click:function(t){return e.deleteKeep(e.keepData.id)}}})]):e._e(),a("div",{on:{click:function(t){return e.increasePublicViewCount()}}},[a("router-link",{attrs:{to:{name:"keepdetails",params:{keepId:e.keepData.id}}}},[a("img",{staticClass:"card-img-top",attrs:{src:e.keepData.img}})])],1),a("div",{staticClass:"card-body"},["vaultdetails"==this.$route.name?a("div",{staticClass:"remove-keep cp",on:{click:function(t){return e.removeKeep(e.keepData.id)}}},[a("i",{staticClass:"far fa-minus-square"}),a("div",{staticClass:"info"},[e._v("Remove from Vault")])]):e._e(),e.keepData.isPrivate?a("i",{staticClass:"edit-btn float-left fas fa-edit cp",on:{click:function(t){return e.editKeep(e.keepData)}}}):e._e(),a("h5",{staticClass:"text-center card-title"},[e._v(e._s(e.keepData.name))]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex text-center justify-content-between"},[e._m(0),a("div",{staticClass:"stats cp w-100"},[a("div",{staticClass:"btn-group dropup"},[e._m(1),this.$auth.isAuthenticated?a("div",{staticClass:"dropdown-menu text-center p-0"},[a("div",{staticClass:"dropdown-item p-1"},[a("div",{staticClass:"fb-share-button",attrs:{"data-href":e.keepData.img,"data-layout":"button","data-size":"large"},on:{click:function(t){return e.increaseShareCount()}}},[a("a",{staticClass:"fb-xfbml-parse-ignore",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+e.keepData.img+"&src=sdkpreparse"}},[a("i",{staticClass:"fab fa-facebook"})])])]),a("div",{staticClass:"dropdown-item p-1"},[a("a",{staticClass:"twitter-share-button",attrs:{href:"https://twitter.com/intent/tweet?url="+e.keepData.img,"data-size":"large"},on:{click:function(t){return e.increaseShareCount()}}},[a("i",{staticClass:"fab fa-twitter-square"})])])]):e._e()])]),a("div",{staticClass:"stats cp w-100",on:{click:function(t){return e.collectKeep(e.keepData.id)}}},[a("i",{staticClass:"fas fa-box-open"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"stats-container col-12 d-flex text-center justify-content-between"},[a("div",{staticClass:"w-100"},[a("p",[e._v("Views:")]),a("p",[e._v(e._s(e.keepData.views))])]),a("div",{staticClass:"w-100"},[a("p",[e._v("Shares:")]),a("p",[e._v(e._s(e.keepData.shares))])]),a("div",{staticClass:"w-100"},[a("p",[e._v("Keeps:")]),a("p",[e._v(e._s(e.keepData.keeps))])])])])])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stats w-100"},[a("i",{staticClass:"fas fa-eye"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-share-alt"})])}],V=a("3d20"),$=a.n(V);class x{static async inputKeepData(e="Enter Inputs"){try{const{value:t}=await $.a.fire({title:e,html:'<form class="keep-form""><label class="mb-0">Keep Name <span style="color: red">*</span></label><input id="keepName" class="swal2-input" placeholder="Name"><label class="mb-0">Description</label><input id="keepDescription" class="swal2-input" placeholder="Description"><label class="mb-0">Image URL</label><input id="keepImg" class="swal2-input" placeholder="Image URL"><label class="mb-0">Private Keep?</label><div class="switch_box box_1">\n\t\t       <input id="keepIsPrivate" type="checkbox" class="switch_1"></div><p>Public Keeps cannot be deleted once they are posted.</p><span style="color: red">*</span> indicates required field</form>',focusConfirm:!1,preConfirm:()=>{let e=document.getElementById("keepName").value,t=document.getElementById("keepDescription").value,a=document.getElementById("keepImg").value,s=document.getElementById("keepIsPrivate").checked;return e||$.a.showValidationMessage("Please fill out required fields"),[e,t,a,s]}});if(t)return{Name:t[0],Description:t[1],Img:t[2],IsPrivate:t[3]}}catch(t){return t}}static async editKeep(e="Enter Inputs",t){try{const{value:a}=await $.a.fire({title:e,html:'<form class="keep-form""><label class="mb-0">Keep Name <span style="color: red">*</span></label>'+`<input id="keepName" class="swal2-input" placeholder="Name" value="${t.name}">`+'<label class="mb-0">Description</label>'+`<input id="keepDescription" class="swal2-input" placeholder="Description" value="${t.description}">`+'<label class="mb-0">Image URL</label>'+`<input id="keepImg" class="swal2-input" placeholder="Image URL" value="${t.img}">`+'<span style="color: red">*</span> indicates required field</form>',focusConfirm:!1,preConfirm:()=>{let e=document.getElementById("keepName").value,t=document.getElementById("keepDescription").value,a=document.getElementById("keepImg").value;return e||$.a.showValidationMessage("Please fill out required fields"),[e,t,a]}});if(a)return{name:a[0],description:a[1],img:a[2]}}catch(a){return a}}static async inputVaultData(e="Enter Inputs",t){try{const{value:a}=await $.a.fire({title:e,html:'<form class="vault-form""><label class="mb-0">Vault Name <span style="color: red">*</span></label>'+`<input id="vaultName" class="swal2-input" value="${t.name||""}" placeholder="Name">`+'<label class="mb-0">Description</label>'+`<input id="vaultDescription" class="swal2-input" value="${t.description||""}" placeholder="Description">`+'<span style="color: red">*</span> indicates required field</form>',focusConfirm:!1,preConfirm:()=>{let e=document.getElementById("vaultName").value,t=document.getElementById("vaultDescription").value;return e||$.a.showValidationMessage("Please fill out required fields"),[e,t]}});if(a)return{Name:a[0],Description:a[1]}}catch(a){return a}}static async pickVault(e){try{const{value:t}=await $.a.fire({title:"Which Vault would you like your Keep in?",input:"select",inputOptions:{...e},inputPlaceholder:"None",showCancelButton:!0});if(t)return t}catch(t){return t}}static async errorMessage(e="Oops"){try{await $.a.fire({icon:"error",text:e})}catch(t){return!1}}}var D={name:"Keep",props:["keepData","vaultId"],data(){return{}},computed:{vaults(){return this.$store.state.vaults}},methods:{async collectKeep(e){let t=this.getVaultInfo();if(this.$auth.isAuthenticated){let a=await x.pickVault(t),s=parseInt(a);isNaN(s)||(this.$store.dispatch("createVaultKeep",{KeepId:e,VaultId:s}),this.increaseKeepCount())}else x.errorMessage("You must be logged in to keep")},getVaultInfo(){let e=[...this.vaults],t={};return e.map(e=>{t[e.id]=e.name}),t},async editKeep(e){let t=await x.editKeep("Edit Keep",e),a=Object.assign(e,t);this.$store.dispatch("editKeep",a)},async deleteKeep(e){await this.$store.dispatch("deleteKeep",e),"vaultdetails"==this.$route.name&&this.$store.dispatch("getKeepsByVaultId",this.vaultId)},async removeKeep(e){await this.$store.dispatch("removeKeep",{KeepId:e,VaultId:parseInt(this.vaultId)}),this.decreaseKeepCount()},increasePublicViewCount(){this.keepData.views++,this.$store.dispatch("increasePublicViewCount",this.keepData)},increaseViewCount(){this.keepData.views++,this.$store.dispatch("keepCount",this.keepData)},increaseKeepCount(){this.keepData.keeps++,this.increaseViewCount()},decreaseKeepCount(){this.keepData.keeps--,this.$store.dispatch("keepCount",this.keepData)},increaseShareCount(){this.keepData.shares++,this.increasePublicViewCount()}}},E=D,P=(a("6d30"),Object(d["a"])(E,_,I,!1,null,"ff63e2fa",null)),B=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchfield,expression:"searchfield"}],attrs:{type:"text",placeholder:"Search Keeps"},domProps:{value:e.searchfield},on:{input:[function(t){t.target.composing||(e.searchfield=t.target.value)},e.sendText]}})])},N=[],O={name:"SearchBox",props:["searchChange"],data(){return{searchfield:""}},methods:{sendText(){this.$emit("search",this.searchfield)}}},S=O,A=(a("3324"),Object(d["a"])(S,j,N,!1,null,"fff91a76",null)),U=A.exports,M={name:"home",mounted(){this.$store.dispatch("getPublicKeeps"),this.$store.dispatch("resetActiveKeep"),Object(m["c"])().then(e=>{this.$store.dispatch("getVaults")})},data(){return{searchfield:""}},computed:{publicKeeps(){return this.$store.state.publicKeeps},filteredKeeps(){return this.publicKeeps.filter(e=>e.name.toLowerCase().includes(this.searchfield.toLowerCase()))}},methods:{logout(){this.$store.dispatch("logout")},onSearchChange(e){this.searchfield=e}},components:{Keep:B,SearchBox:U}},L=M,T=(a("a540"),Object(d["a"])(L,k,K,!1,null,"7b9122c1",null)),q=T.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard container-fluid"},[e._m(0),a("div",{staticClass:"row justify-content-around pb-3 pt-5"},[e._m(1),a("div",{staticClass:"col-6 text-right mt-1 mb-3"},[a("button",{staticClass:"btn create-keep-btn",on:{click:e.createKeep}},[e._v("Create Keep")])]),a("div",{staticClass:"col-6 text-left mt-1 mb-3"},[a("button",{staticClass:"btn create-vault-btn",on:{click:e.createVault}},[e._v("Create Vault")])])]),a("div",{staticClass:"row justify-content-around pt-1 pb-3"},e._l(e.vaults,(function(t){return a("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4 pt-1 pb-3 mb-3"},[a("div",{staticClass:"bg-image"},[a("div",{staticClass:"card"},[a("div",{staticClass:"delete-vault text-right w-100"},[a("i",{staticClass:"far fa-times-circle",on:{click:function(a){return e.deleteVault(t.id)}}})]),a("div",{staticClass:"card-body text-center"},[a("h5",{staticClass:"card-title text-white"},[e._v(e._s(t.name))]),a("h6",{staticClass:"card-subtitle mb-2 text-white"},[e._v(e._s(t.description))])]),a("router-link",{staticClass:"vault-link",attrs:{to:{name:"vaultdetails",params:{vaultId:t.id}}}})],1)])])})),0),a("hr"),e._m(2),a("div",{staticClass:"col-12 w-100 pl-5"},[a("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"ml-5",attrs:{gutter:"15","transition-duration":"0.3s","item-selector":".item"}},e._l(e.userKeeps,(function(e){return a("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e.id,staticClass:"item mt-3"},[a("Keep",{attrs:{keepData:e}})],1)})),0)])])},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row dash-top-bg align-items-center"},[a("div",{staticClass:"col-12 text-center"},[a("div",[a("h1",[e._v("My Collection")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 text-center mt-5"},[a("h1",[e._v("My Keeps")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-12 text-center pb-2"},[a("h1",[e._v("My Created Keeps")])])])}],F={name:"Dashboard",mounted(){Object(m["c"])().then(e=>{this.$store.dispatch("getVaults"),this.$store.dispatch("getKeepsByUserId")}),this.$store.dispatch("resetActiveKeep"),this.$store.dispatch("resetActiveVault")},computed:{vaults(){return this.$store.state.vaults},userKeeps(){return this.$store.state.userKeeps}},methods:{async createKeep(){let e=this.getVaultInfo(),t=0,a=await x.inputKeepData("Enter Keep Info");if(a){if(1==a.IsPrivate){let a=await x.pickVault(e);t=parseInt(a)}this.$store.dispatch("createKeep",{keepData:a,vaultId:t})}},getVaultInfo(){let e=[...this.vaults],t={};return e.map(e=>{t[e.id]=e.name}),t},async createVault(){let e=await x.inputVaultData("Enter Vault Info",{});e&&this.$store.dispatch("createVault",e)},deleteVault(e){this.$store.dispatch("deleteVault",e)}},components:{Keep:B}},J=F,W=(a("0a67"),Object(d["a"])(J,R,z,!1,null,"37a68afa",null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vault-details container-fluid"},[a("div",{staticClass:"row pt-5 text-center"},[a("div",{staticClass:"col-12 mt-5"},[a("h1",[e._v(e._s(e.vault.name))])]),a("div",{staticClass:"col-12"},[a("h3",[e._v(e._s(e.vault.description))])])]),a("div",{staticClass:"row"},e._l(e.vaultKeeps,(function(t){return a("div",{key:t.id,staticClass:"col-6 col-md-3 pt-1 pb-1 mt-3 mb-5"},[a("Keep",{attrs:{keepData:t,vaultId:e.vaultId}})],1)})),0)])},H=[],G={name:"VaultDetails",props:["vaultId"],mounted(){Object(m["c"])().then(e=>{this.$store.dispatch("getVaultById",this.vaultId),this.$store.dispatch("getKeepsByVaultId",this.vaultId)})},data(){return{}},computed:{vault(){return this.$store.state.activeVault},vaultKeeps(){return this.$store.state.vaultKeeps}},methods:{},components:{Keep:B}},Q=G,Z=(a("2849"),Object(d["a"])(Q,Y,H,!1,null,"7ce36b20",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"keep-details container-fluid"},[a("div",{staticClass:"row text-center pb-5"},[a("div",{staticClass:"col-12 pt-5 pb-2 mt-5"},[a("h1",[e._v(e._s(e.keep.name))])]),a("div",{staticClass:"col-12 pt-2 pb-5"},[a("img",{staticClass:"keep-img",attrs:{src:e.keep.img}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h3",[e._v(e._s(e.keep.description))])])]),a("hr"),a("div",{staticClass:"row pt-2"},[a("div",{staticClass:"col-12 d-flex text-center justify-content-between mt-2"},[e._m(0),a("div",{staticClass:"cp w-100"},[a("div",{staticClass:"btn-group dropup"},[e._m(1),a("div",{staticClass:"dropdown-menu text-center p-0"},[a("div",{staticClass:"dropdown-item p-1"},[a("div",{staticClass:"fb-share-button",attrs:{"data-href":e.keep.img,"data-layout":"button","data-size":"large"},on:{click:function(t){return e.increaseShareCount()}}},[a("a",{staticClass:"fb-xfbml-parse-ignore",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+e.keep.img+"&src=sdkpreparse"}},[a("i",{staticClass:"fab fa-facebook"}),a("span",{staticClass:"social-name"},[e._v("Facebook")])])])]),a("div",{staticClass:"dropdown-item p-1"},[a("a",{staticClass:"twitter-share-button",attrs:{href:"https://twitter.com/intent/tweet?url="+e.keep.img,"data-size":"large"},on:{click:function(t){return e.increaseShareCount()}}},[a("i",{staticClass:"fab fa-twitter-square"}),a("span",{staticClass:"social-name"},[e._v("Twitter")])])])])])]),a("div",{staticClass:"cp w-100",on:{click:function(t){return e.collectKeep(e.keep.id)}}},[a("i",{staticClass:"fas fa-box-open stats-icon"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"stats-container col-12 d-flex text-center justify-content-between"},[a("div",{staticClass:"w-100"},[a("p",[e._v("Views:")]),a("p",[e._v(e._s(e.keep.views))])]),a("div",{staticClass:"w-100"},[a("p",[e._v("Shares:")]),a("p",[e._v(e._s(e.keep.shares))])]),a("div",{staticClass:"w-100"},[a("p",[e._v("Keeps:")]),a("p",[e._v(e._s(e.keep.keeps))])])])])])},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-100"},[a("i",{staticClass:"fas fa-eye stats-icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-share-alt stats-icon"})])}],se={name:"KeepDetails",async mounted(){await Object(m["c"])().then(e=>{this.$store.dispatch("getKeepById",this.keepId),this.$store.dispatch("getVaults")}).catch(e=>{this.$store.dispatch("getPublicKeepById",this.keepId)})},props:["keepId"],data(){return{}},computed:{keep(){return this.$store.state.activeKeep},vaults(){return this.$store.state.vaults}},methods:{async collectKeep(e){if(this.$auth.isAuthenticated){await this.$store.dispatch("getVaults");let t=this.getVaultInfo(),a=await x.pickVault(t),s=parseInt(a);isNaN(s)||(this.$store.dispatch("createVaultKeep",{KeepId:e,VaultId:s}),this.increaseKeepCount())}else x.errorMessage("You must be logged in to keep")},getVaultInfo(){let e={};return this.vaults.map(t=>{e[t.id]=t.name}),e},increaseViewCount(){this.keep.views++,this.$store.dispatch("keepCount",this.keep)},increaseKeepCount(){this.keep.keeps++,this.increaseViewCount()},increaseShareCount(){this.keep.shares++,this.$store.dispatch("keepCount",this.keep)}}},ie=se,re=(a("7435"),Object(d["a"])(ie,te,ae,!1,null,"32fba73a",null)),ne=re.exports;s["a"].use(g["a"]);var ce=new g["a"]({routes:[{path:"/",name:"home",component:q},{path:"/dashboard",name:"dashboard",component:X,beforeEnter:m["b"]},{path:"/vaultdetails/:vaultId",name:"vaultdetails",component:ee,beforeEnter:m["b"],props:!0},{path:"/keepdetails/:keepId",name:"keepdetails",component:ne,props:!0}]}),le=a("2f62");s["a"].use(le["a"]);let oe=location.host.includes("localhost")?"https://localhost:5001/":"/",pe=o.a.create({baseURL:oe+"api/",timeout:5e3,withCredentials:!0});var ue=new le["a"].Store({state:{publicKeeps:[],userKeeps:[],activeKeep:{},vaultKeeps:[],vaults:[],activeVault:{}},mutations:{setPublicKeeps(e,t){e.publicKeeps=t},setUserKeeps(e,t){e.userKeeps=t},addToUserKeeps(e,t){e.userKeeps.push(t)},setActiveKeep(e,t){e.activeKeep=t},setVaultKeeps(e,t){e.vaultKeeps=t},resetVaultKeeps(e){e.vaultKeeps=[]},setVaults(e,t){e.vaults=t},addVault(e,t){e.vaults.push(t)},setActiveVault(e,t){e.activeVault=t},resetActiveKeep(e){e.activeKeep={}},resetActiveVault(e){e.activeVault={}}},actions:{setBearer({},e){pe.defaults.headers.authorization=e},resetBearer(){pe.defaults.headers.authorization=""},async getPublicKeeps({commit:e,dispatch:t}){let a=await pe.get("keeps");e("setPublicKeeps",a.data)},async createKeep({commit:e,dispatch:t},a){let s=await pe.post("keeps/",a.keepData);isNaN(a.vaultId)||t("createVaultKeep",{KeepId:s.data.id,VaultId:a.vaultId}),s.data.isPrivate&&e("addToUserKeeps",s.data)},async getPublicKeepById({commit:e,dispatch:t},a){let s=await pe.get("keeps/"+a+"/publickeep",a);e("setActiveKeep",s.data)},async getKeepById({commit:e,dispatch:t},a){let s=await pe.get("keeps/"+a);e("setActiveKeep",s.data)},async getKeepsByUserId({commit:e,dispatch:t}){let a=await pe.get("keeps/userkeeps");e("setUserKeeps",a.data)},async getKeepsByVaultId({commit:e,dispatch:t},a){e("resetVaultKeeps");let s=await pe.get("vaults/"+a+"/keeps");e("setVaultKeeps",s.data)},async editKeep({commit:e,dispatch:t},a){let s=await pe.put("keeps/"+a.id,a);console.log(s.data)},async removeKeep({commit:e,dispatch:t},a){await pe.put("vaultkeeps/removekeep",a);t("getKeepsByVaultId",a.VaultId)},async deleteKeep({commit:e,dispatch:t},a){await pe.delete("keeps/"+a);t("getKeepsByUserId")},resetActiveKeep({commit:e}){e("resetActiveKeep")},async getVaults({commit:e,dispatch:t}){let a=await pe.get("vaults");e("setVaults",a.data)},async createVault({commit:e,dispatch:t},a){let s=await pe.post("vaults",a);e("addVault",s.data)},async getVaultById({commit:e,dispatch:t},a){let s=await pe.get("vaults/"+a);e("setActiveVault",s.data)},async resetActiveVault({commit:e}){e("resetActiveVault")},async deleteVault({commit:e,dispatch:t},a){await pe.delete("vaults/"+a);t("getVaults")},async createVaultKeep({commit:e,dispatch:t},a){await pe.post("vaultkeeps",{KeepId:a.KeepId,VaultId:a.VaultId})},async keepCount({commit:e,dispatch:t},a){await pe.put("keeps/"+a.id,a);t("getKeepById",a.id)},async increasePublicViewCount({commit:e,dispatch:t},a){let s=await pe.put("keeps/"+a.id+"/publicview",a);e("setActiveKeep",s.data)}}});const de="gsotelo.auth0.com",he="https://gsotelo-api.com",ve="0aqymzn9n0Bd9FSnrppXjoo3TIDMLX4C";s["a"].use(y["a"]),s["a"].use(m["a"],{domain:de,clientId:ve,audience:he,onRedirectCallback:e=>{ce.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}}),new s["a"]({router:ce,store:ue,render:function(e){return e(w)}}).$mount("#app")},6231:function(e,t,a){"use strict";var s=a("3854"),i=a.n(s);i.a},"6d30":function(e,t,a){"use strict";var s=a("c17b"),i=a.n(s);i.a},7435:function(e,t,a){"use strict";var s=a("c470"),i=a.n(s);i.a},"827f":function(e,t,a){},a540:function(e,t,a){"use strict";var s=a("24af"),i=a.n(s);i.a},b80d:function(e,t,a){},c17b:function(e,t,a){},c470:function(e,t,a){}});